# Rakta Backend Environment Variables
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control

# ===========================================
# JWT Configuration (REQUIRED)
# ===========================================
# Secret key for JWT token signing
# Must be at least 32 characters long for security
# Generate a secure key with: openssl rand -base64 32
JWT_SECRET=your-secret-key-at-least-32-characters-long-change-this-in-production

# JWT token expiration time in milliseconds
# Default: 86400000 (24 hours)
# JWT_EXPIRATION=86400000

# ===========================================
# Database Configuration (PostgreSQL)
# ===========================================
# Uncomment and configure when using PostgreSQL instead of H2

# Database connection URL
# SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/rakta

# Database username
# SPRING_DATASOURCE_USERNAME=your_username

# Database password
# SPRING_DATASOURCE_PASSWORD=your_password

# Database driver (usually auto-detected)
# SPRING_DATASOURCE_DRIVER_CLASS_NAME=org.postgresql.Driver

# ===========================================
# JPA/Hibernate Configuration
# ===========================================
# DDL auto mode (validate, update, create, create-drop)
# Use 'validate' in production to prevent schema changes
# SPRING_JPA_HIBERNATE_DDL_AUTO=update

# Show SQL queries in logs (disable in production)
# SPRING_JPA_SHOW_SQL=true

# ===========================================
# Flyway Configuration
# ===========================================
# Enable Flyway migrations (set to true for PostgreSQL)
# SPRING_FLYWAY_ENABLED=false

# Flyway migration locations
# SPRING_FLYWAY_LOCATIONS=classpath:db/migration

# ===========================================
# Server Configuration
# ===========================================
# Server port (default: 8080)
# SERVER_PORT=8080

# ===========================================
# CORS Configuration
# ===========================================
# Allowed origins for CORS (comma-separated)
# CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# ===========================================
# Logging Configuration
# ===========================================
# Root logging level
# LOGGING_LEVEL_ROOT=INFO

# Application logging level
# LOGGING_LEVEL_COM_RAKTA=DEBUG

# ===========================================
# Production Settings
# ===========================================
# For production deployments, also consider:
# - Using environment-specific profiles (spring.profiles.active=prod)
# - Enabling HTTPS/TLS
# - Configuring connection pooling (HikariCP)
# - Setting up health check endpoints
# - Configuring actuator endpoints
# - Setting proper logging levels (WARN or ERROR)

# ===========================================
# H2 Database (Development Only)
# ===========================================
# The application is currently configured to use H2 in-memory database
# by default in application.yml. This requires no additional configuration.
# H2 Console is available at: http://localhost:8080/h2-console
# JDBC URL: jdbc:h2:mem:raktadb
# Username: sa
# Password: (leave empty)

# ===========================================
# Production Performance Optimization
# ===========================================
# For low-resource VPS deployment, set these environment variables:

# Spring Profiles (REQUIRED for prod)
SPRING_PROFILES_ACTIVE=prod

# Lazy initialization to reduce startup CPU
SPRING_LAZY_INIT=true

# HikariCP connection pool tuning
HIKARI_MAX_POOL_SIZE=5
HIKARI_MIN_IDLE=2

# Disable dev features
H2_CONSOLE_ENABLED=false
JPA_SHOW_SQL=false
JPA_FORMAT_SQL=false

# Reduced logging for production
LOG_LEVEL_ROOT=WARN
LOG_LEVEL_SPRING=WARN
LOG_LEVEL_HIBERNATE=WARN
LOG_LEVEL_NETTY=WARN
LOG_LEVEL_APP=INFO

# JPA dialect for PostgreSQL (if using Postgres)
# JPA_DIALECT=org.hibernate.dialect.PostgreSQLDialect

